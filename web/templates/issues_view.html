{{ template "head" . }}

{{ with .Data }}
<div class="content">
	<div class="action">
		<a href="/">Projects</a> /
		<a href="/dashboard?pid={{ .ProjectView.Project.Id }}">{{ .ProjectView.Project.Host }}</a> /
		<a href="/issues?pid={{ .ProjectView.Project.Id }}">Issues</a> /
		<span class="title">{{ trans .Eid }}</span>
	</div>
</div>

<div class="issue-panel">
<div class="content">
	<div class="section-title">
		<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd"><path d="M21.883 12l-7.527 6.235.644.765 9-7.521-9-7.479-.645.764 7.529 6.236h-21.884v1h21.883z"/></svg>
		<h1>Page {{ .PaginatorView.Paginator.CurrentPage }} of {{ .PaginatorView.Paginator.TotalPages }}</h1>
	</div>
	
	{{ if .PaginatorView.PageReports }}
		<ul class="url-list">
		{{ $pid := .ProjectView.Project.Id }}
		{{ $eid := .Eid }}
		{{ range .PaginatorView.PageReports }}
			<li>
				<div>
					{{ if .Title }}{{ .Title }}<br />{{ end }}
					<a href="/resources?pid={{ $pid }}&rid={{ .Id }}&eid={{ $eid }}" class="url">{{ .URL }}</a>
				</div>
				<div><a href="/resources?pid={{ $pid }}&rid={{ .Id }}&eid={{ $eid }}">→ View details</a></div>
			</li>
		{{ end }}
	</ul>
		{{ if gt .PaginatorView.Paginator.TotalPages 1 }}
			<div class="pagination">
				<div class="prev">
				{{ if .PaginatorView.Paginator.PreviousPage }}
					<a href="/issues/view?pid={{ .ProjectView.Project.Id }}&eid={{ .Eid }}&p={{ .PaginatorView.Paginator.PreviousPage }}">
						← Previous page
					</a>
				{{ end }}
				</div>
				<div class="next">
				{{ if .PaginatorView.Paginator.NextPage }}
					<a href="/issues/view?pid={{ .ProjectView.Project.Id }}&eid={{ .Eid }}&p={{ .PaginatorView.Paginator.NextPage }}">
						Next page →
					</a>
				{{ end }}
				</div>
			</div>
		{{ end }}
	{{ else }}
		<p><b>Everything is ok</b></p>
	{{ end }}
</div>
</div>
{{ end }}

{{ template "footer" . }}